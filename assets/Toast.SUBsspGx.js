import{$ as b,a as T,L as y,t as f,T as g}from"./ToastAssets.Bdm7Cuhy.js";import{j as a}from"./jsx-runtime.CRkqtJS5.js";import{R as l}from"./index.B52nOzfP.js";import{u as x}from"./index.DcIy302Z.js";import"./SocialIcon.C7nT6lAC.js";import{B as j}from"./ButtonPromise.BASp94UI.js";import{C as I}from"./CloseBtn.lh3G55sM.js";import"./CircleLoading.DnCBQFdf.js";let u=1e3;function v(e){const i=l.useRef(null),[n,t]=l.useState(u);let s=e.bgClose;return e.portalType==="Toaster"&&(s=!1),e.portalType==="Dialoger"&&e.bgClose===void 0&&(s=!0),l.useEffect(()=>{if(u++,t(u),i.current?.setAttribute(`data-${e.portalType}-id`,`${e.portalID}`),document.querySelectorAll(`[data-${e.portalType}-id="${e.portalID}"]`).length>1)throw new Error(`There is already a ${e.portalType} with the same ID: "${e.portalID}". Skipping render.`)},[]),a.jsx("span",{className:`flifo-portal h-100 w-100 o-hidden ${e.className||""} ${e.isRelative?"relative":"fixed"}`,style:{...e.style,zIndex:n,pointerEvents:s?"visible":"none",backgroundColor:e.bgColor},"data-portal-type":e.portalType,ref:i,children:e.children})}function z({toastID:e="init",position:i="top-center",duration:n=2500,animation:t="slide",maxToasts:s=3,...d}){const c=x(b);if(!c[e])return;const r=c[e].slice(-s-1);return a.jsx(v,{portalID:e,portalType:"Toaster",...d,bgClose:!1,state:!0,children:r.map((o,m)=>a.jsx(D,{index:m,toastID:e,position:i,duration:n,animate:t,maxToasts:s,...o},o.id))})}const D=({scaleOffset:e="center",startAnim:i,endAnim:n,...t})=>{const s=x(T),[d,c]=l.useState(!1),[r,o]=l.useState(!1),m={"--custom-start-top":i?.top,"--custom-start-bottom":i?.bottom,"--custom-start-left":i?.left,"--custom-start-right":i?.right,"--custom-end-top":n?.top,"--custom-end-bottom":n?.bottom,"--custom-end-left":n?.left,"--custom-end-right":n?.right};return l.useEffect(()=>{c(t.state!==void 0?t.state:!0),t.state===!1?y.removeDelay(t.toastID,t.id,t.animate==="none"?0:350):setTimeout(()=>{c(!0)},50)},[t.state]),l.useEffect(()=>{t.index!==void 0&&t.maxToasts!==void 0&&t.index+1>t.maxToasts&&f.dismiss(s.toastID,s.id)},[s,t.index,t.maxToasts]),l.useEffect(()=>{if(t.noDissapear||t.noDissapear&&r)return;const h=setTimeout(()=>{f.dismiss(t.toastID,t.id)},t.duration);return()=>clearTimeout(h)},[r,t.duration,t.noDissapear]),a.jsx("div",{className:`toast-container d-flex f-center w-max h-max${d?" visible":" delete"} ${t.theme||""}${t.isRelative?" fixed":" absolute"}`,"data-axis-y":t.position?.split("-")[0],"data-axis-x":t.position?.split("-")[1],"data-scale-offset":e,"data-animate":t?.animate,style:{zIndex:r?"inherit":0,...m},onMouseEnter:()=>t.noDissapear?null:o(!0),onMouseLeave:()=>o(!1),children:t?.children&&t.children||a.jsxs("span",{className:"toast-item f-row f-justify-between f-align-center br-6 sd-1",children:[a.jsxs("div",{className:"f-row g-1 f-center",children:[t.customIcon||t.icon||t.type&&a.jsx("span",{className:"toast-icon mr-2 d-flex f-center",children:t.customIcon?t.customIcon:g[t.type]}),a.jsxs("div",{className:"f-col f-justify-center",children:[t.title&&a.jsx("h3",{className:"fs-custom-14-5",style:{color:"rgb(var(--lb-title))"},children:t?.title}),a.jsx("p",{className:"fs-2 m-0",style:{fontWeight:"450"},children:t?.message}),t.href&&a.jsx("a",{className:"info fs-custom-13 br-6 w-max",href:t.href,children:"More"})]})]}),t.customAction?t.customAction:t.action?a.jsx(j,{className:"fs-custom-12-5 pointer btn-secondary br-6",text:t.actionText||"Continue",size:16,style:{padding:".3rem .65rem"},stroke:"rgb(var(--lb-white))",onClick:async()=>{o(!0),await t.action(),f.dismiss(t.toastID,t.id)}}):t.closeBtn?a.jsx("span",{className:"ml-3 d-block",onClick:()=>{f.dismiss(t.toastID,t.id)},children:a.jsx(I,{size:24})}):null]})})};export{z as Toaster};
