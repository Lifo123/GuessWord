import{j as i}from"./jsx-runtime.CRkqtJS5.js";import{R as s}from"./index.B52nOzfP.js";import{u as o,$ as u,a as b,A as l,E as f}from"./SocialIcon.t2dz2qvD.js";import{B as h}from"./ButtonPromise.UqonaXA1.js";import{C as x}from"./CloseBtn.lh3G55sM.js";function E({dialogerID:d="init",...e}){const n=o(u),[a,c]=s.useState(!1),r=s.useRef(null);s.useEffect(()=>{if(document.querySelectorAll(`[data-dialoger-id="${d}"]`).length>1){console.warn(`There is already a Dialoger with the same ID: "${d}". Skipping render.`);return}},[]);const t=n[n.length-1],m=t?.bgClose!==void 0?t.bgClose:e.bgClose!==void 0?e.bgClose:!1,g=t?.bgColor||"#00000095";return s.useEffect(()=>{c(t?.state),t&&t.state===!1&&c(!1)},[t?.state]),i.jsx("span",{className:`flifo-portal h-100 w-100 o-hidden ${e.isRelative?"relative":"fixed"} ${a?"visible":"delete"}`,style:{pointerEvents:a?"visible":"none",backgroundColor:a?g:"none"},"data-portal-type":"dialoger","data-dialoger-id":"init",ref:r,children:t&&i.jsx(C,{...t,bgClose:m},t?.id)})}const C=({loadingID:d="G_fetch",...e})=>{const n=s.useRef(null),[a,c]=s.useState(!1),r=o(b);return s.useEffect(()=>{c(e.state),e.state===!1&&l.removeDelay(e.id,e.animate==="none"?0:200)},[e.state]),s.useEffect(()=>(e.id&&(a&&e.bgClose&&f.OutsideClick(e.id,n.current,()=>l.dismiss(e.id)),e.closeResize&&f.Resize(e.id,()=>l.dismiss(e.id))),()=>{(e.bgClose&&e.id||e.closeResize&&e.id)&&(f.removeOutsideClick(e.id),f.removeResize(e.id))})),i.jsx(i.Fragment,{children:i.jsx("div",{className:`dialog-container fixed d-flex f-center w-max ${a?"visible":"delete"}`,"data-animate":e.animate||"scale",ref:n,children:e.children?s.isValidElement(e.children)?s.cloneElement(e.children,{...e}):e.children:i.jsxs("div",{className:`dialog-content p-4 f-col g-2 br-8 relative ${e.className||""}`,style:{...e.style,transform:e.style?.transform||"translateY(-40px)"},children:[i.jsxs("div",{className:"f-row f-justify-between f-align-start g-3",children:[i.jsxs("div",{className:"f-col g-1",children:[e.title&&i.jsx("h4",{className:"fs-4 m-0 fw-600 mb-2",children:e.title}),i.jsxs("p",{className:"fs-2 text-common m-0 f-row f-wrap g-1",children:[e.message||"Message"," ",e.href&&i.jsx("a",{className:"w-max link fs-custom-13-5 text-common fw-500",href:e.href,children:"More information"})]})]}),e.closeBtn&&i.jsx("span",{children:i.jsx(x,{size:24,onClick:()=>l.dismiss(e.id)})})]}),i.jsxs("div",{className:"f-row g-2 f-wrap f-justify-between mt-1",children:[i.jsx("span",{className:"btn btn-third br-6 fs-2 pointer",onPointerDown:()=>{r[d]||l.dismiss(e.id)},children:"Cancel"}),i.jsx(h,{className:"btn-primary btn br-6",text:"Continue",onClick:async()=>{await e.onClick?.(),l.dismiss(e.id)}})]})]})})})};export{E as AlertDialoger};
